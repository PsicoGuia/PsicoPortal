<ion-menu [content]="content">
  <ion-content>
    <div class="header-side-menu">
      <div class="logo-side-menu">
        <img alt="The Smokers Store" src="assets/img/logo_300.png" (click)="openPage(pages[0])" menuClose>
      </div>

      <div *ngIf="!userService.user" margin-top>
        <button ion-button clear color="light" (click)="login()">
          Iniciar sesión
        </button>
        <button menuClose ion-button clear color="light" (click)="openPage({component: 'Register'})">
          Regístrate
        </button>
      </div>

      <div class="login-side-menu" *ngIf="userService.user">
        <ion-icon name="contact"></ion-icon>
        <h4 padding-bottom text-center>
          {{userService.user.first_name}} {{userService.user.last_name}}
        </h4>

      </div>

    </div>

    <ion-list>
      <button *ngIf="userService.user" ion-item (click)="showProfile=false;openPage({component: 'ProfilePage'})">
        <ion-icon name="person" style="margin-right:4px"></ion-icon>MI PERFIL
      </button>
      <button *ngIf="userService.user" menuClose ion-item (click)="openPage({component: 'UserPointsPage'})">
        <ion-icon name="cash" style="margin-right:4px"></ion-icon>MI ESTADO DE CUENTA
      </button>
      <button *ngIf="userService.user" ion-item (click)="logout()">
        <ion-icon name="md-exit" style="margin-right:4px"></ion-icon>CERRAR SESIÓN
      </button>
    </ion-list>

  </ion-content>

</ion-menu>

<div class="max-desktop-menu" *ngIf='destop_menu'>
  <ion-list class="desktop-menu">
    <div class="panel-sup">
      <div class="menu-networks dmiddle">
        <div class="dmiddle">
          <ion-icon style="margin-right: 15px;" color='light' name="logo-facebook" (click)="goToExternalUrl('http://facebook.com/pg/thesmokersstore/')"></ion-icon>
        </div>

        <div style="margin-right: 15px;" class="dmiddle">
          <ion-icon style="margin-right: 15px;" color='light' name="logo-youtube" (click)="goToExternalUrl('https://www.youtube.com/channel/UCgGydfY1NwE1oPXBBzfMDrg')"></ion-icon>
        </div>

        <div class="dmiddle">
          <ion-icon color='light' name="logo-instagram" (click)="goToExternalUrl('https://www.instagram.com/cigarrilloselectronicostss/')"></ion-icon>
        </div>
      </div>
      <div class="dmiddle">
        <ion-buttons class end>
          <button ion-button clear (click)="openPage({component: 'Home'})">
            <ion-icon name="md-search" color="light">CITA</ion-icon>
            <ion-badge item-right color='secondary'>5</ion-badge>
          </button>
        </ion-buttons>
      </div>
    </div>

    <div class="panel-inf" style="margin-top: 0px;">
      <div class="left-info">
        <div class="menu-pages">
          <div class="dmiddle">
            <button menuClose ion-item (click)="goToSmokers()">
              INICIO
            </button>
          </div>
          <div class="dmiddle">
            <div class="line-white">
            </div>
          </div>
        </div>
        <div class="menu-pages" *ngFor="let p of pages; let i = index">
          <div class="dmiddle">
            <button *ngIf='!p.stage' menuClose ion-item (click)="showProfile=false;openPage(p)">
              {{p.title}}
            </button>
            <button class='activeBlue' *ngIf='p.stage' menuClose ion-item (click)="showProfile=false;openPage(p)">
              {{p.title}}
            </button>
          </div>
          <div class="dmiddle">
            <div class="line-white">
            </div>
          </div>
        </div>


        <div class="menu-login" *ngIf="!userService.user">
          <div class="dmiddle">
            <button *ngIf="!userService.user" ion-item (click)="showProfile=false;login()">
              INGRESAR
            </button>
          </div>
          <div class="dmiddle" *ngIf='i != ((pages.length)-1)'>
            <div class="line-white">
            </div>
          </div>
          <div class="dmiddle">
            <button ion-item (click)="showProfile=false;openPage({component: 'Home'})">
              REGÍSTRATE
            </button>
          </div>
        </div>



        <div class="menu-login" *ngIf="userService.user">
          <div class="dmiddle">
            <button ion-item color="secondary" (click)="showProfile=!showProfile">
              <div class="dmiddle">
                <ion-icon name="contact"></ion-icon>
              </div>
              <div class="dmiddle" style="padding-left: 5px; padding-right: 5px;">
                {{userService.user.first_name}} {{userService.user.last_name}}
              </div>
              <div class="dmiddle">
                <ion-icon name="ios-arrow-up" *ngIf="showProfile"></ion-icon>
                <ion-icon name="ios-arrow-down" *ngIf="!showProfile"></ion-icon>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="showProfile && userService.user" class="submenu">
      <button ion-item (click)="showProfile=false;openPage({component: 'Home'})">
        MI PERFIL
      </button>
      <button ion-item (click)="showProfile=false;openPage({component: 'Home'})">
        MI ESTADO DE CUENTA
      </button>
      <button ion-item (click)="showProfile=false;logout()">
        CERRAR SESIÓN
      </button>
    </div>
  </ion-list>
</div>

<div class="footer-desk">
  <div class="dlements">
    <div class="dwhatsapp">
      <h3 class="strong blue">
        <ion-icon name="logo-whatsapp" color="secondary"></ion-icon>
        3007299407
      </h3>
    </div>
    <div class="dmiddle">
      <div class="line-white">
      </div>
    </div>
    <div class="dadd1">
      <ion-icon name="pin"></ion-icon>
      <span class="texUp">Cll falsa 123</span>
      <br/>
      <span class="texDw">Bogotá Colombia</span>
    </div>
  </div>

  <!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
  <ion-nav [root]="rootPage" #content swipeBackEnabled="false" (window:resize)="onResize()"></ion-nav>